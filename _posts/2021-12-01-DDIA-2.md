---
title: "DDIA 30-34"
categories:
  - SystemDesign
tags:
  - SdKnowLedge
  - DDIA
---

## Page30

对于大部分应用来说，单机上做到硬件冗余即可
但是当数据量和需求增大，需要多机的时候，硬件冗余就不够，因为可能单机完全down掉

因此，需要配合软件fault tolerance技术来搭配硬件冗余，来实现tolerate整机down

软件Error:
一般硬件故障都是独立的，一台机器的故障不会影响到其他机器
但是软件故障是紧密相连的。如果一个软件出bug，或者一个软件消耗资源过大，增加负载，或者系统依赖的服务出问题，
或者是一连串依赖的错误，那么所有机器都可能出现问题

软件的故障没有快速解决办法，需要仔细检测，思考可能出问题的地方

## Page31

人类错误:
软件和系统是人类设计的，那么人类在操作的时候肯定会出现大大小小的错误
提高系统的可靠度，可以采取
1. 设计一个软件，最小化系统error
2. 将最有可能会出问题的地方decouple出来
3. 仔细测试
4. 系统能够快速地从错误中恢复
5. 搭建监控系统


## Page32

Scalability
当系统用户增加或者系统处理的数据量增多，系统是否能够正常工作

## Page33,34

load根据不同的使用情况，有不同种类的描述，比如db write多少次，qps多少，用户量多少，cache hit多少
twitter如何处理数据: hybrid
1. 不是celebrity, fanout to follower's cache
2. 是celebrity, post到global celebrity db。然后follower会查看celebrity db去merge



